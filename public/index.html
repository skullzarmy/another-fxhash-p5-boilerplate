<!DOCTYPE html>
<html>
    <head>
        <title>GPT Cityscapes</title>
        <meta charset="utf-8" />
        <script id="fxhash-snippet">
            //---- do not edit the following code (you can indent as you wish)
            let search = new URLSearchParams(window.location.search);
            let alphabet = "123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ";
            var fxhash =
                search.get("fxhash") ||
                "oo" +
                    Array(49)
                        .fill(0)
                        .map((_) => alphabet[(Math.random() * alphabet.length) | 0])
                        .join("");
            let b58dec = (str) => [...str].reduce((p, c) => (p * alphabet.length + alphabet.indexOf(c)) | 0, 0);
            let fxhashTrunc = fxhash.slice(2);
            let regex = new RegExp(".{" + ((fxhash.length / 4) | 0) + "}", "g");
            let hashes = fxhashTrunc.match(regex).map((h) => b58dec(h));
            let sfc32 = (a, b, c, d) => {
                return () => {
                    a |= 0;
                    b |= 0;
                    c |= 0;
                    d |= 0;
                    var t = (((a + b) | 0) + d) | 0;
                    d = (d + 1) | 0;
                    a = b ^ (b >>> 9);
                    b = (c + (c << 3)) | 0;
                    c = (c << 21) | (c >>> 11);
                    c = (c + t) | 0;
                    return (t >>> 0) / 4294967296;
                };
            };
            var fxrand = sfc32(...hashes);
            // true if preview mode active, false otherwise
            // you can append preview=1 to the URL to simulate preview active
            var isFxpreview = search.get("preview") === "1";
            // call this method to trigger the preview
            function fxpreview() {
                console.log("fxhash: TRIGGER PREVIEW");
            }
            //---- /do not edit the following code
        </script>

        <link rel="stylesheet" href="./style.css" />

        <script src="./p5.min.js"></script>
        <script src="./draw.js"></script>
    </head>
    <body>
        <!-- WEBPACK will inject the bundle.js here -->
        <div id="legend-button" class="legend-button"><a href="#" class="hamburger-icon legend-button"></a> MENU</div>

        <div id="legend" class="">
            <div id="legend-close">X</div>
            <div class="legend-wrapper">
                <h1>GPT Cityscapes</h1>
                <span class="legend-hash-header">Hash</span>
                <span id="insert-prop-hash"></span>
                <table id="legend-properties">
                    <thead>
                        <td>Property</td>
                        <td>Value</td>
                    </thead>
                    <tr>
                        <td>Buildings</td>
                        <td id="insert-prop-numBuildings"></td>
                    </tr>
                    <tr>
                        <td>Moon Diameter</td>
                        <td id="insert-prop-moonDiameter"></td>
                    </tr>
                    <tr>
                        <td>Moon Speed</td>
                        <td id="insert-prop-moonSpeed"></td>
                    </tr>
                </table>

                <ul id="legend-list">
                    <li class="legend-item">
                        <span class="legend-description">Type (or click) the letters below</span>
                    </li>
                    <li class="legend-item">
                        <span class="legend-key" onclick="save('GPT_Cityscape.png')">S</span>
                        <span class="legend-description">Save as PNG (be patient)</span>
                    </li>
                    <li class="legend-item">
                        <span class="legend-key" onclick="playPause();">P</span>
                        <span class="legend-description">Play / Pause</span>
                    </li>
                </ul>
            </div>
            <span class="createdby">created by skllzrmy.tez with ❤️</span>
        </div>
    </body>
</html>
